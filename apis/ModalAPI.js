const modalAPI={_handlePMvsEM(e){switch(e){case"--menu-bar-background":return Scratch.extensions.isElectraMod?"var(--menu-bar-background, hsla(244, 23%, 48%, 1))":"var(--menu-bar-background, #009CCC)";case"--ui-modal-overlay":return Scratch.extensions.isElectraMod?"var(--ui-modal-overlay, hsla(244, 23%, 48%, 0.9))":"var(--ui-modal-overlay, hsla(194, 100%, 65%, 0.9))"}},_setupTheme(){if("undefined"!=typeof scaffolding){modalAPI._menuBarBackground="#0FBD8C",modalAPI._defaultBackgroundColor="white",modalAPI._textColor="black",modalAPI._buttonShadow="hsla(0, 0%, 0%, 0.15)",modalAPI.fade="#0FBD8CDD",modalAPI._shadowBorder="hsla(0, 100%, 100%, 0.25)";return}modalAPI._menuBarBackground=Scratch.extensions.isPenguinMod?modalAPI._handlePMvsEM("--menu-bar-background"):"var(--menu-bar-background)",modalAPI._defaultBackgroundColor=Scratch.extensions.isPenguinMod?"dark"==document.body.getAttribute("theme")?"var(--ui-primary)":"white":"var(--ui-modal-background)",modalAPI._textColor=Scratch.extensions.isPenguinMod?"dark"==document.body.getAttribute("theme")?"white":"black":"var(--ui-modal-foreground)",modalAPI._buttonShadow=Scratch.extensions.isPenguinMod?"hsla(0, 0%, 0%, 0.15)":"var(--ui-black-transparent)",modalAPI.fade=modalAPI._handlePMvsEM("--ui-modal-overlay"),modalAPI._shadowBorder=Scratch.extensions.isPenguinMod?"hsla(0, 100%, 100%, 0.25)":"var(--ui-white-transparent)"},openModal(e){modalAPI._setupTheme();let t=document.createElement("div");t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.left="0px",t.style.top="0px",t.style.backgroundColor=modalAPI.fade,t.style.zIndex="10001",document.body.appendChild(t);let l=document.createElement("div");l.style.backgroundColor=modalAPI._menuBarBackground,l.style.width="50%",l.style.height="50%",l.style.position="relative",l.style.top="50%",l.style.left="50%",l.style.borderRadius="8px",l.style.borderColor=modalAPI._shadowBorder,l.style.borderWidth="4px",l.style.borderStyle="solid",l.style.aspectRatio="5/3",l.style.transform="translate(-50%,25%)",l.style.zIndex="10002",//!DONT FORGET THIS IS HERE
l.style.textAlign="center",l.style.color="#ffffff",document.body.appendChild(l);let a=document.createElement("div");a.style.width="100%",a.style.height="48px",a.style.top="0px",a.style.left="0px",a.style.position="absolute",a.style.transform="translate(0%,12px)",a.style.fontSize="24px",a.textContent=e||"modal",l.appendChild(a);let o=document.createElement("div");o.style.backgroundColor=modalAPI._defaultBackgroundColor,o.style.width="100%",o.style.height="calc(100% - 48px)",o.style.position="absolute",o.style.top="48px",o.style.left="0%",o.style.borderBottomLeftRadius="4px",o.style.borderBottomRightRadius="4px",l.appendChild(o);let s=document.createElement("div");s.style.width="1.75rem",s.style.height="1.75rem",s.style.backgroundColor=modalAPI._buttonShadow,s.style.position="absolute",s.style.left="calc(100% - 2rem)",s.style.top="0.25rem",s.style.borderRadius="50%",s.style.alignItems="center",s.style.justifyContent="center",s.style.display="flex",s.style.cursor="pointer",s.style.transition="all 0.15s ease-out",s.style.transform="translate(-50%,25%)",s.onmouseenter=()=>{s.style.transform="translate(-50%,25%) scale(1.1,1.1)"},s.onmouseleave=()=>{s.style.transform="translate(-50%,25%) scale(1,1)"},s.onclick=()=>{document.body.removeChild(t),document.body.removeChild(l)},l.appendChild(s);let r=document.createElement("img");return r.src="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA3LjQ4IDcuNDgiPjxkZWZzPjxzdHlsZT4uY2xzLTF7ZmlsbDpub25lO3N0cm9rZTojZmZmO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2Utd2lkdGg6MnB4O308L3N0eWxlPjwvZGVmcz48dGl0bGU+aWNvbi0tYWRkPC90aXRsZT48bGluZSBjbGFzcz0iY2xzLTEiIHgxPSIzLjc0IiB5MT0iNi40OCIgeDI9IjMuNzQiIHkyPSIxIi8+PGxpbmUgY2xhc3M9ImNscy0xIiB4MT0iMSIgeTE9IjMuNzQiIHgyPSI2LjQ4IiB5Mj0iMy43NCIvPjwvc3ZnPg==",r.style.width="0.75rem",r.style.height="0.75rem",r.style.margin="0.25rem",r.style.transform="rotate(45deg)",s.appendChild(r),{shaderPanel:o,closeFunc(){document.body.removeChild(t),document.body.removeChild(l)},resizeFunc(e,t){l.style.aspectRatio=e+"/"+t,l.style.width=e>t?"auto":e+"%",l.style.height=t>=e?"auto":t+"%"},nameFunc(e){a.textContent=e}}}};